/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 1.10.0
 * @url https://github.com/feimosi/baguetteBox.js
 */
(function(a,b){if(typeof define==="function"&&define.amd){define(b)}else{if(typeof exports==="object"){module.exports=b()}else{a.baguetteBox=b()}}}(this,function(){var r='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',ac='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',Y='<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>';var C={},J={captions:true,buttons:"auto",fullScreen:false,noScrollbars:false,bodyClass:"baguetteBox-open",titleTag:false,async:false,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"};var O={};var X,h,ab,x,b;var j=[];var d=0;var u=false;var V={};var D=false;var f=/.+\.(gif|jpe?g|png|webp)/i;var ad={};var T=[];var ai=null;var K=function(aj){if(aj.target.id.indexOf("baguette-img")!==-1){E()}};var H=function(aj){aj.stopPropagation?aj.stopPropagation():aj.cancelBubble=true;n()};var c=function(aj){aj.stopPropagation?aj.stopPropagation():aj.cancelBubble=true;ag()};var e=function(aj){aj.stopPropagation?aj.stopPropagation():aj.cancelBubble=true;E()};var M=function(aj){V.count++;if(V.count>1){V.multitouch=true}V.startX=aj.changedTouches[0].pageX;V.startY=aj.changedTouches[0].pageY};var z=function(ak){if(D||V.multitouch){return}ak.preventDefault?ak.preventDefault():ak.returnValue=false;var aj=ak.touches[0]||ak.changedTouches[0];if(aj.pageX-V.startX>40){D=true;n()}else{if(aj.pageX-V.startX<-40){D=true;ag()}else{if(V.startY-aj.pageY>100){E()}}}};var U=function(){V.count--;if(V.count<=0){V.multitouch=false}D=false};var aa=function(){U()};var I=function(aj){if(X.style.display==="block"&&(X.contains&&!X.contains(aj.target))){aj.stopPropagation();a()}};if(![].forEach){Array.prototype.forEach=function(al,aj){for(var ak=0;ak<this.length;ak++){al.call(aj,this[ak],ak,this)}}}if(![].filter){Array.prototype.filter=function(ak,aj,an,am,al){an=this;am=[];for(al=0;al<an.length;al++){ak.call(aj,an[al],al,an)&&am.push(an[al])}return am}}function A(aj,ak){O.transforms=W();O.svg=l();O.passiveEvents=R();o();y(aj);return Q(aj,ak)}function Q(aj,am){var al=document.querySelectorAll(aj);var ak={galleries:[],nodeList:al};ad[aj]=ak;[].forEach.call(al,function(ao){if(am&&am.filter){f=am.filter}var ap=[];if(ao.tagName==="A"){ap=[ao]}else{ap=ao.getElementsByTagName("a")}ap=[].filter.call(ap,function(aq){if(aq.className.indexOf(am&&am.ignoreClass)===-1){return f.test(aq.href)}});if(ap.length===0){return}var an=[];[].forEach.call(ap,function(at,aq){var ar=function(av){av.preventDefault?av.preventDefault():av.returnValue=false;q(an,am);m(aq)};var au={eventHandler:ar,imageElement:at};g(at,"click",ar);an.push(au)});ak.galleries.push(an)});return ak.galleries}function af(){for(var aj in ad){if(ad.hasOwnProperty(aj)){y(aj)}}}function y(aj){if(!ad.hasOwnProperty(aj)){return}var ak=ad[aj].galleries;[].forEach.call(ak,function(al){[].forEach.call(al,function(am){v(am.imageElement,"click",am.eventHandler)});if(j===al){j=[]}});delete ad[aj]}function o(){X=i("baguetteBox-overlay");if(X){h=i("baguetteBox-slider");ab=i("previous-button");x=i("next-button");b=i("close-button");return}X=k("div");X.setAttribute("role","dialog");X.id="baguetteBox-overlay";document.getElementsByTagName("body")[0].appendChild(X);h=k("div");h.id="baguetteBox-slider";X.appendChild(h);ab=k("button");ab.setAttribute("type","button");ab.id="previous-button";ab.setAttribute("aria-label","Previous");ab.innerHTML=O.svg?r:"&lt;";X.appendChild(ab);x=k("button");x.setAttribute("type","button");x.id="next-button";x.setAttribute("aria-label","Next");x.innerHTML=O.svg?ac:"&gt;";X.appendChild(x);b=k("button");b.setAttribute("type","button");b.id="close-button";b.setAttribute("aria-label","Close");b.innerHTML=O.svg?Y:"&times;";X.appendChild(b);ab.className=x.className=b.className="baguetteBox-button";Z()}function G(aj){switch(aj.keyCode){case 37:n();break;case 39:ag();break;case 27:E();break}}function Z(){var aj=O.passiveEvents?{passive:true}:null;g(X,"click",K);g(ab,"click",H);g(x,"click",c);g(b,"click",e);g(h,"contextmenu",aa);g(X,"touchstart",M,aj);g(X,"touchmove",z,aj);g(X,"touchend",U);g(document,"focus",I,true)}function ah(){var aj=O.passiveEvents?{passive:true}:null;v(X,"click",K);v(ab,"click",H);v(x,"click",c);v(b,"click",e);v(h,"contextmenu",aa);v(X,"touchstart",M,aj);v(X,"touchmove",z,aj);v(X,"touchend",U);v(document,"focus",I,true)}function q(ak,an){if(j===ak){return}j=ak;t(an);while(h.firstChild){h.removeChild(h.firstChild)}T.length=0;var am=[];var ao=[];for(var al=0,aj;al<ak.length;al++){aj=k("div");aj.className="full-image";aj.id="baguette-img-"+al;T.push(aj);am.push("baguetteBox-figure-"+al);ao.push("baguetteBox-figcaption-"+al);h.appendChild(T[al])}X.setAttribute("aria-labelledby",am.join(" "));X.setAttribute("aria-describedby",ao.join(" "))}function t(al){if(!al){al={}}for(var aj in J){C[aj]=J[aj];if(typeof al[aj]!=="undefined"){C[aj]=al[aj]}}h.style.transition=h.style.webkitTransition=(C.animation==="fadeIn"?"opacity .4s ease":C.animation==="slideIn"?"":"none");if(C.buttons==="auto"&&("ontouchstart" in window||j.length===1)){C.buttons=false}ab.style.display=x.style.display=(C.buttons?"":"none");try{X.style.backgroundColor=C.overlayBackgroundColor}catch(ak){}}function m(aj){if(C.noScrollbars){document.documentElement.style.overflowY="hidden";document.body.style.overflowY="scroll"}if(X.style.display==="block"){return}g(document,"keydown",G);d=aj;V={count:0,startX:null,startY:null};w(d,function(){ae(d);B(d)});F();X.style.display="block";if(C.fullScreen){p()}setTimeout(function(){X.className="visible";if(C.bodyClass&&document.body.classList){document.body.classList.add(C.bodyClass)}if(C.afterShow){C.afterShow()}},50);if(C.onChange){C.onChange(d,T.length)}ai=document.activeElement;a();u=true}function a(){if(C.buttons){ab.focus()}else{b.focus()}}function p(){if(X.requestFullscreen){X.requestFullscreen()}else{if(X.webkitRequestFullscreen){X.webkitRequestFullscreen()}else{if(X.mozRequestFullScreen){X.mozRequestFullScreen()}}}}function s(){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}}function E(){if(C.noScrollbars){document.documentElement.style.overflowY="auto";document.body.style.overflowY="auto"}if(X.style.display==="none"){return}v(document,"keydown",G);X.className="";setTimeout(function(){X.style.display="none";s();if(C.bodyClass&&document.body.classList){document.body.classList.remove(C.bodyClass)}if(C.afterHide){C.afterHide()}ai&&ai.focus();u=false},500)}function w(al,au){var aq=T[al];var an=j[al];if(typeof aq==="undefined"||typeof an==="undefined"){return}if(aq.getElementsByTagName("img")[0]){if(au){au()}return}var ap=an.imageElement;var am=ap.getElementsByTagName("img")[0];var aj=typeof C.captions==="function"?C.captions.call(j,ap):ap.getAttribute("data-caption")||ap.title;var ar=S(ap);var ao=k("figure");ao.id="baguetteBox-figure-"+al;ao.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>';if(C.captions&&aj){var at=k("figcaption");at.id="baguetteBox-figcaption-"+al;at.innerHTML=aj;ao.appendChild(at)}aq.appendChild(ao);var ak=k("img");ak.onload=function(){var av=document.querySelector("#baguette-img-"+al+" .baguetteBox-spinner");ao.removeChild(av);if(!C.async&&au){au()}};ak.setAttribute("src",ar);ak.alt=am?am.alt||"":"";if(C.titleTag&&aj){ak.title=aj}ao.appendChild(ak);if(C.async&&au){au()}}function S(ap){var aj=ap.href;if(ap.dataset){var ao=[];for(var an in ap.dataset){if(an.substring(0,3)==="at-"&&!isNaN(an.substring(3))){ao[an.replace("at-","")]=ap.dataset[an]}}var am=Object.keys(ao).sort(function(ar,aq){return parseInt(ar,10)<parseInt(aq,10)?-1:1});var al=window.innerWidth*window.devicePixelRatio;var ak=0;while(ak<am.length-1&&am[ak]<al){ak++}aj=ao[am[ak]]||aj}return aj}function ag(){return L(d+1)}function n(){return L(d-1)}function L(ak,aj){if(!u&&ak>=0&&ak<aj.length){q(aj,C);m(ak);return true}if(ak<0){if(C.animation){N("left")}return false}if(ak>=T.length){if(C.animation){N("right")}return false}d=ak;w(d,function(){ae(d);B(d)});F();if(C.onChange){C.onChange(d,T.length)}return true}function N(aj){h.className="bounce-from-"+aj;setTimeout(function(){h.className=""},400)}function F(){var aj=-d*100+"%";if(C.animation==="fadeIn"){h.style.opacity=0;setTimeout(function(){O.transforms?h.style.transform=h.style.webkitTransform="translate3d("+aj+",0,0)":h.style.left=aj;h.style.opacity=1},400)}else{O.transforms?h.style.transform=h.style.webkitTransform="translate3d("+aj+",0,0)":h.style.left=aj}}function W(){var aj=k("div");return typeof aj.style.perspective!=="undefined"||typeof aj.style.webkitPerspective!=="undefined"}function l(){var aj=k("div");aj.innerHTML="<svg/>";return(aj.firstChild&&aj.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}function R(){var ak=false;try{var aj=Object.defineProperty({},"passive",{get:function(){ak=true}});window.addEventListener("test",null,aj)}catch(al){}return ak}function ae(aj){if(aj-d>=C.preload){return}w(aj+1,function(){ae(aj+1)})}function B(aj){if(d-aj>=C.preload){return}w(aj-1,function(){B(aj-1)})}function g(ak,al,am,aj){if(ak.addEventListener){ak.addEventListener(al,am,aj)}else{ak.attachEvent("on"+al,function(an){an=an||window.event;an.target=an.target||an.srcElement;am(an)})}}function v(ak,al,am,aj){if(ak.removeEventListener){ak.removeEventListener(al,am,aj)}else{ak.detachEvent("on"+al,am)}}function i(aj){return document.getElementById(aj)}function k(aj){return document.createElement(aj)}function P(){ah();af();v(document,"keydown",G);document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay"));ad={};j=[];d=0}return{run:A,show:L,showNext:ag,showPrevious:n,hide:E,destroy:P}}));